<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Leaflet</title>
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="css/map_01.css">
  <meta name="description" content="Source code generated using layoutit.com">
  <meta name="author" content="LayoutIt!">
  <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
</head>
<body>
  <div class="row">
    <div class="col-md-12">
      <ul class="nav nav-tabs">
				<li class="nav-item">
					<a class="nav-link active" href="index.html">Overview of Project</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href=data.html>Datasets</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="https://bikesharetoronto.com">Bike Share Toronto</a>
				</li>
				<li class="nav-item dropdown ml-md-auto">
					 <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown">Insights</a>
					<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
						 <a class="dropdown-item" href="https://colab.research.google.com/drive/1i1BthFx1pK8xQd6UK1WxJFzLHFrDSHnO#scrollTo=vtkKnVe1y9GK">Python&SQL</a> 
						<div class="dropdown-divider">
						</div> <a class="dropdown-item" href="d3_index.html">D3.js</a> <a class="dropdown-item" href="map.html">Leflet.js</a>
					</div>
				</li>
			</ul>
    </div>
  </div>
  <br>
  <br>

  <!-- The div that holds our map -->
  <div id="map" style="height: 500px; width: 1300px; margin-right: 150px; margin-left: 150px; position: relative; outline: none;"></div>




  <br>
  <br>
  <div class="row">
  
    <div class="col-md-12">
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
            <strong>Description</strong>
            </button>
          </h2>
          </div>
        
          <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
          <div class="card-body">
            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. 
            <br><br>Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
          </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="headingTwo">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            <strong>Coding</strong>
            </button>
          </h2>
          </div>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
          <div class="card-body">
            <pre><code>
              <samp>

                // Creating map object
                var map = L.map("map", {
                center: [43.6532, -79.3832],
                zoom: 12
                });
  
                // Adding tile layer
                L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
                attribution: "Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>",
                maxZoom: 18,
                id: "mapbox/streets-v11",
                accessToken: "pk.eyJ1Ijoic2hhcm9uOTYzIiwiYSI6ImNrYW4zb2c5cTB0eGYyeWxvbDd6Nm5zYW8ifQ.hpsECQj1iB5m_iz8AOGXhw"
                }).addTo(map);

                //Create a link to collect data from API
                var link = "https://tor.publicbikesystem.net/ube/gbfs/v1/en/station_information.geojson";

                function getColor(d) {
                return d > 50  : '#8B0000' ;
                d > 40  : '#FF4500' ;
                d > 30  : '#FF7F50' ;
                d > 20 : '#FFD700' ;
                d > 10 : '#FFFACD' ;
                    '#98FB98';
                };

                var lat_long;
                //Grab Json Data
                d3.json(link, function(response){
                for (i=0;i<response.data.stations.length; i++) {
                lat_long = [response.data.stations[i].lat,response.data.stations[i].lon];
                //add circle markder on each location
                L.circle(lat_long, {
                radius: 5*response.data.stations[i].capacity,
                fillColor: getColor(response.data.stations[i].capacity),//"#ff7800",
                color: "#000",
                weight: 0.5,
                opacity: 1,
                fillOpacity: 0.8
                }).bindPopup("Station name:" + response.data.stations[i].name + "Capacity:response.data.stations[i].capacity)
                .addTo(map);
                }

                var legend = L.control({position: 'bottomright'});
                legend.onAdd = function () {
                var div = L.DomUtil.create('div', 'info legend');
                grades = [0, 10, 20, 30, 40, 50];
                labels = [];
    
                // loop through our density intervals and generate a label with a colored square for each interval
                for (var i = 0; i < grades.length; i++) {
                div.innerHTML +=
                '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
                grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1]);
                }
                return div;
                };
                legend.addTo(map);
                });
              </samp>
              </code></pre>
          </div>
          </div>
        </div>
     
        </div>
    </div>
  </div>




  <div class="row">
		<div class="col-md-12">
			<br><br>
			<address>
				<br>
				<p class="addbody">
					<strong>  Hire Us</strong><br>   We're currently taking on new projects. Would you like to discuss yours?
					<hr>
				</p>
				<p class="addbody">
					GitHub<a  class="addbody" href="https://github.com/hannahcjy/Project2">GitHub</a>  
					<br>  LinkedIn<a  class="addbody" href="https://www.linkedin.com/in/lucy-wo-siyu/">LinkedIn</a> 
					<br> <abbr title="Phone">  Phone:</abbr> (123) 456-7890
					<br>Email: info@coolgrils.org.com
				 <br>
				 <br>
				</p>
			</address>
		</div>
		<div class="row">
			<div class="col-md-12">
				<p>   </p>
			</div>
		</div>
	</div>

  <!-- Leaflet JavaScript -->
  <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
  <!-- D3 JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js"></script>
  <!-- Our JavaScript -->
  <script type="text/javascript" src="js/map_01.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
</body>
</html>
